import{j as e,u as R,e as _,r as o,A as D,L as M}from"./index-B5N-jUy8.js";import{r as O,o as z,b as r,e as k,aO as w,i as H}from"./App-BP_5kTt-.js";import{S as T}from"./Snackbar-Ct91Pi67.js";var s={},q=z;Object.defineProperty(s,"__esModule",{value:!0});var E=s.default=void 0,A=q(O()),B=e;E=s.default=(0,A.default)((0,B.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");const U=()=>{const{t}=R(),n=_(),{savedStops:i,savedEtas:l,collections:c,_colorMode:u,energyMode:d,platformMode:p,refreshInterval:x,annotateScheduled:h,vibrateDuration:f,etaFormat:m,numPadOrder:v,isRouteFilter:g,busSortOrder:j,analytics:C,isRecentSearchShown:S}=o.useContext(D),a=o.useMemo(()=>`https://${window.location.hostname}/${n}/import/`+encodeURIComponent(M.compress(JSON.stringify({savedStops:i,savedEtas:l,collections:c,_colorMode:u,energyMode:d,platformMode:p,refreshInterval:x,annotateScheduled:h,vibrateDuration:f,etaFormat:m,numPadOrder:v,isRouteFilter:g,busSortOrder:j,analytics:C,isRecentSearchShown:S},null,0),{outputEncoding:"Base64"})),[c,l,i,u,d,p,x,h,f,m,v,g,j,n,C,S]),[I,y]=o.useState(!1);return e.jsxs(r,{sx:F,children:[e.jsx(k,{variant:"h6",sx:{textAlign:"center"},children:t("資料匯出")}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",m:1},children:[e.jsx(w,{variant:"outlined",value:a,fullWidth:!0,spellCheck:!1}),e.jsx(r,{sx:{m:1},children:e.jsx(H,{startIcon:e.jsx(E,{}),onClick:()=>{var b;navigator.share?navigator.share({title:"Export hkbus.app",url:a}):(b=navigator.clipboard)==null||b.writeText(a).then(()=>{y(!0)})},size:"large",variant:"outlined",children:t("複制匯出網址")})})]}),e.jsx(T,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:I,autoHideDuration:1500,onClose:()=>{y(!1)},message:t("已複製到剪貼簿")})]})},F={justifyContent:"center",flex:1};export{U as default};
