import{r as O,j as h,A as q,T as Oe,u as H,a as k,e as U,t as Ye,b as Pt,v as se,z as Nt,B as Dt,C as Ft,F as Ht,y as Ut}from"./index-B5N-jUy8.js";import{q as ze,s as Te,t as re,P as Bt,w as Pe,_ as je,x as F,y as ee,z as Ee,A as Vt,r as Le,o as Ae,b as T,G as te,i as Kt,T as Gt,a as Xt,C as Yt,E as Jt,F as ne,H as Je,J as Qt,K as Qe,M as Z,N as Zt,e as E,R as er,O as tr,I as rr,g as Ze,h as nr}from"./App-BP_5kTt-.js";import{r as ir,a as qe,S as or}from"./index-DyT5RaID.js";import{c as sr,a as ar,i as lr,o as cr}from"./objectWithoutProperties-CclqYwRa.js";import{C as ur}from"./Close-IMv9MwNm.js";function dr(e){return ze("MuiCard",e)}Te("MuiCard",["root"]);const fr=["className","raised"],pr=e=>{const{classes:t}=e;return Ee({root:["root"]},dr,t)},hr=re(Bt,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),vr=O.forwardRef(function(t,r){const n=Pe({props:t,name:"MuiCard"}),{className:s,raised:l=!1}=n,v=je(n,fr),S=F({},n,{raised:l}),_=pr(S);return h.jsx(hr,F({className:ee(_.root,s),elevation:l?8:void 0,ref:r,ownerState:S},v))}),mr=vr;function gr(e){return ze("MuiCardActionArea",e)}const _r=Te("MuiCardActionArea",["root","focusVisible","focusHighlight"]),ae=_r,yr=["children","className","focusVisibleClassName"],xr=e=>{const{classes:t}=e;return Ee({root:["root"],focusHighlight:["focusHighlight"]},gr,t)},br=re(Vt,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${ae.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${ae.focusVisible} .${ae.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),Sr=re("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),Cr=O.forwardRef(function(t,r){const n=Pe({props:t,name:"MuiCardActionArea"}),{children:s,className:l,focusVisibleClassName:v}=n,S=je(n,yr),_=n,b=xr(_);return h.jsxs(br,F({className:ee(b.root,l),focusVisibleClassName:ee(v,b.focusVisible),ref:r,ownerState:_},S,{children:[s,h.jsx(Sr,{className:b.focusHighlight,ownerState:_})]}))}),Rr=Cr;function wr(e){return ze("MuiCardContent",e)}Te("MuiCardContent",["root"]);const Ir=["className","component"],Or=e=>{const{classes:t}=e;return Ee({root:["root"]},wr,t)},zr=re("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Tr=O.forwardRef(function(t,r){const n=Pe({props:t,name:"MuiCardContent"}),{className:s,component:l="div"}=n,v=je(n,Ir),S=F({},n,{component:l}),_=Or(S);return h.jsx(zr,F({as:l,className:ee(_.root,s),ownerState:S,ref:r},v))}),Pr=Tr;var We={},jr=Ae;Object.defineProperty(We,"__esModule",{value:!0});var jt=We.default=void 0,Er=jr(Le()),Lr=h;jt=We.default=(0,Er.default)((0,Lr.jsx)("path",{d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H7.07L2.4 12l4.66-7H22zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"}),"BackspaceOutlined");var ke={},Ar=Ae;Object.defineProperty(ke,"__esModule",{value:!0});var Et=ke.default=void 0,qr=Ar(Le()),Wr=h;Et=ke.default=(0,qr.default)((0,Wr.jsx)("path",{d:"M7 11v2h10v-2zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"DoNotDisturbOnOutlined");const Lt=({k:e,onClick:t,disabled:r=!1,sx:n})=>h.jsx(Kt,{size:"large",variant:"contained",sx:{...Dr,...n},onClick:()=>t(e),disabled:r,disableRipple:!0,children:e==="b"?h.jsx(jt,{}):e==="c"?h.jsx(Et,{}):e}),kr=({possibleChar:e})=>{const{numPadOrder:t,searchRoute:r,updateSearchRouteByButton:n}=O.useContext(q);return h.jsx(te,{container:!0,spacing:0,children:t.split("").map(s=>h.jsx(te,{item:!0,xs:4,children:h.jsx(Lt,{k:s,onClick:n,sx:Fr,disabled:s==="b"&&r===""||!"bc".includes(s)&&!e.includes(s)||s==="c"&&r===""})},"input-"+s))})},$r=({possibleChar:e})=>{const{updateSearchRouteByButton:t}=O.useContext(q);return h.jsx(te,{container:!0,spacing:1,children:e.filter(r=>isNaN(parseInt(r,10))).map(r=>h.jsx(te,{item:!0,xs:6,children:h.jsx(Lt,{k:r,onClick:t,sx:Hr})},"input-"+r))})},Mr=({boardTab:e})=>{const{searchRoute:t,db:{routeList:r}}=O.useContext(q),n=Vr(t,r,e),s=0;return navigator.userAgent==="prerendering"?h.jsx(h.Fragment,{}):h.jsxs(T,{sx:Nr,padding:s,children:[h.jsx(T,{sx:Br,padding:s,children:h.jsx(kr,{possibleChar:n})}),h.jsx(T,{sx:Ur,padding:s,children:h.jsx($r,{possibleChar:n})})]})},Nr={zIndex:0,background:e=>e.palette.background.default,display:"flex",flexDirection:"row",height:"248px",justifyContent:"space-around"},Dr={background:e=>e.palette.background.paper,color:e=>e.palette.text.primary,width:"100%",fontSize:"1.8em",borderRadius:"unset","&:selected":{color:e=>e.palette.text.primary},"&:hover":{backgroundColor:e=>e.palette.background.paper}},Fr={height:"62px"},Hr={height:"52px"},Ur={width:"35%",height:"246px",overflowX:"hidden",overflowY:"scroll"},Br={width:"62%"},Vr=(e,t,r)=>{if(t==null)return[];let n={};return Object.entries(t).forEach(([s,l])=>{if(s.startsWith(e.toUpperCase())&&l.co.some(v=>Oe[r].includes(v))){let v=s.slice(e.length,e.length+1);n[v]=isNaN(n[v])?1:n[v]+1}}),Object.entries(n).map(s=>s[0]).filter(s=>s!=="-")},Kr=({boardTab:e,onChangeTab:t})=>{const{t:r}=H(),{isRecentSearchShown:n}=O.useContext(q);return h.jsx(T,{children:h.jsx(Gt,{value:e,onChange:(s,l)=>t(l,!0),sx:Xr,children:Object.keys(Oe).filter(s=>n||s!=="recent").map(s=>h.jsx(Xt,{label:r(s),value:s,disableRipple:!0},s))})})},Gr=(e,t)=>t&&e==="recent"||e==="all"||e==="bus"||e==="minibus"||e==="lightRail"||e==="mtr",Xr={background:e=>e.palette.background.default,minHeight:"36px",overflow:"auto",maxWidth:"100%","& .MuiTab-root":{py:0,minWidth:"85px",minHeight:"32px","&.MuiButtonBase-root":{textTransform:"none"}},"& .MuiTabs-scroller":{overflow:"auto !important"}};var Re={};function Yr(e){return e&&e.__esModule?e:{default:e}}var ie=Yr,V={},K,et;function $e(){if(et)return K;et=1;function e(){return K=e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},e.apply(this,arguments)}return K=e,K}var le,tt;function Jr(){if(tt)return le;tt=1;function e(t,r){if(t==null)return{};var n={},s=Object.keys(t),l,v;for(v=0;v<s.length;v++)l=s[v],!(r.indexOf(l)>=0)&&(n[l]=t[l]);return n}return le=e,le}var ce,rt;function Me(){if(rt)return ce;rt=1;var e=Jr();function t(r,n){if(r==null)return{};var s=e(r,n),l,v;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);for(v=0;v<S.length;v++)l=S[v],!(n.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(r,l)&&(s[l]=r[l])}return s}return ce=t,ce}var ue,nt;function Ne(){if(nt)return ue;nt=1;function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}return ue=e,ue}var de,it;function De(){if(it)return de;it=1;function e(r,n){for(var s=0;s<n.length;s++){var l=n[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(r,l.key,l)}}function t(r,n,s){return n&&e(r.prototype,n),s&&e(r,s),r}return de=t,de}var N,ot;function Qr(){if(ot)return N;ot=1;function e(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(s){return typeof s}:e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(r)}function t(r){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?N=t=function(s){return e(s)}:N=t=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":e(s)},t(r)}return N=t,N}var fe,st;function Zr(){if(st)return fe;st=1;function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return fe=e,fe}var pe,at;function Fe(){if(at)return pe;at=1;var e=Qr(),t=Zr();function r(n,s){return s&&(e(s)==="object"||typeof s=="function")?s:t(n)}return pe=r,pe}var G,lt;function He(){if(lt)return G;lt=1;function e(t){return G=e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},e(t)}return G=e,G}var X,ct;function en(){if(ct)return X;ct=1;function e(t,r){return X=e=Object.setPrototypeOf||function(s,l){return s.__proto__=l,s},e(t,r)}return X=e,X}var he,ut;function Ue(){if(ut)return he;ut=1;var e=en();function t(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),n&&e(r,n)}return he=t,he}function tn(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),s=r.length;if(n.length!==s)return!1;for(var l=0;l<s;l++){var v=r[l];if(e[v]!==t[v]||!Object.prototype.hasOwnProperty.call(t,v))return!1}return!0}function rn(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const nn=Object.freeze(Object.defineProperty({__proto__:null,shallowEqualArrays:rn,shallowEqualObjects:tn},Symbol.toStringTag,{value:"Module"})),on=k(nn);var D={};const sn=k(sr),an=k(ar);var ve={exports:{}},me={exports:{}},dt;function ln(){return dt||(dt=1,function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(me)),me.exports}var ge={exports:{}},ft;function cn(){return ft||(ft=1,function(e){function t(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(ge)),ge.exports}var pt;function un(){return pt||(pt=1,function(e){var t=ln().default,r=cn();function n(s,l){if(l&&(t(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(ve)),ve.exports}var _e={exports:{}},ht;function dn(){return ht||(ht=1,function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(_e)),_e.exports}const fn=k(lr),pn=k(Yt),hn=k(cr),vn=k(Jt);var vt;function At(){if(vt)return D;vt=1,Object.defineProperty(D,"__esModule",{value:!0});function e(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var t=e(sn),r=e(an),n=e(un()),s=e(dn()),l=e(fn),v=e(pn),S=e(hn),_=e(vn),b=e(O);e(ne),e(ir());function C(c,p,m){return Object.defineProperty(c,p,m)}var R=function(){var c=null;return function(){if(c!==null)return c;var p=!1;try{window.addEventListener("test",null,C({},"passive",{get:function(){p=!0}}))}catch{}return c=p,p}()}(),f={capture:!1,passive:!1};function y(c){return _({},f,c)}function x(c,p,m){var g=[c,p];return g.push(R?m:m.capture),g}function a(c,p,m,g){c.addEventListener.apply(c,x(p,m,g))}function d(c,p,m,g){c.removeEventListener.apply(c,x(p,m,g))}function o(c,p){c.children,c.target;var m=S(c,["children","target"]);Object.keys(m).forEach(function(g){if(g.substring(0,2)==="on"){var I=m[g],w=v(I),z=w==="object",L=w==="function";if(!(!z&&!L)){var W=g.substr(-7).toLowerCase()==="capture",j=g.substring(2).toLowerCase();j=W?j.substring(0,j.length-7):j,z?p(j,I.handler,I.options):p(j,I,y({capture:W}))}}})}function i(c,p){return{handler:c,options:y(p)}}var u=function(c){l(p,c);function p(){return t(this,p),n(this,s(p).apply(this,arguments))}return r(p,[{key:"componentDidMount",value:function(){this.applyListeners(a)}},{key:"componentDidUpdate",value:function(g){this.applyListeners(d,g),this.applyListeners(a)}},{key:"componentWillUnmount",value:function(){this.applyListeners(d)}},{key:"applyListeners",value:function(g){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props,w=I.target;if(w){var z=w;typeof w=="string"&&(z=window[w]),o(I,g.bind(null,z))}}},{key:"render",value:function(){return this.props.children||null}}]),p}(b.PureComponent);return u.propTypes={},D.withOptions=i,D.default=u,D}var mt;function mn(){if(mt)return V;mt=1;var e=ie;Object.defineProperty(V,"__esModule",{value:!0}),V.default=f;var t=e($e()),r=e(Me()),n=e(Ne()),s=e(De()),l=e(Fe()),v=e(He()),S=e(Ue()),_=e(O);e(ne);var b=on,C=e(At()),R=qe();function f(y){var x=function(a){(0,S.default)(d,a);function d(o){var i;return(0,n.default)(this,d),i=(0,l.default)(this,(0,v.default)(d).call(this,o)),i.timer=null,i.state={},i.handleInterval=function(){var u=i.props,c=u.children,p=u.direction,m=u.onChangeIndex,g=u.slideCount,I=i.state.index,w=I;p==="incremental"?w+=1:w-=1,(g||c)&&(w=(0,R.mod)(w,g||_.default.Children.count(c))),i.props.index===void 0&&i.setState({index:w}),m&&m(w,I)},i.handleChangeIndex=function(u,c,p){i.props.index===void 0&&i.setState({index:u}),i.props.onChangeIndex&&i.props.onChangeIndex(u,c,p)},i.handleSwitching=function(u,c){i.timer?(clearInterval(i.timer),i.timer=null):c==="end"&&i.startInterval(),i.props.onSwitching&&i.props.onSwitching(u,c)},i.handleVisibilityChange=function(u){u.target.hidden?clearInterval(i.timer):i.startInterval()},i.state.index=o.index||0,i}return(0,s.default)(d,[{key:"componentDidMount",value:function(){this.startInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(i){var u=i.index;typeof u=="number"&&u!==this.props.index&&this.setState({index:u})}},{key:"componentDidUpdate",value:function(i){var u=!(0,b.shallowEqualObjects)({index:i.index,interval:i.interval,autoplay:i.autoplay},{index:this.props.index,interval:this.props.interval,autoplay:this.props.autoplay});u&&this.startInterval()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"startInterval",value:function(){var i=this.props,u=i.autoplay,c=i.interval;clearInterval(this.timer),u&&(this.timer=setInterval(this.handleInterval,c))}},{key:"render",value:function(){var i=this.props,u=i.autoplay;i.direction,i.index,i.interval;var c=i.onChangeIndex,p=(0,r.default)(i,["autoplay","direction","index","interval","onChangeIndex"]),m=this.state.index;return u?_.default.createElement(C.default,{target:"document",onVisibilityChange:this.handleVisibilityChange},_.default.createElement(y,(0,t.default)({index:m,onChangeIndex:this.handleChangeIndex,onSwitching:this.handleSwitching},p))):_.default.createElement(y,(0,t.default)({index:m,onChangeIndex:c},p))}}]),d}(_.default.Component);return x.propTypes={},x.defaultProps={autoplay:!0,direction:"incremental",interval:3e3},x}return V}var Y={},J={exports:{}},gt;function gn(){return gt||(gt=1,function(e,t){function r(_){if(_&&typeof _=="object"){var b=_.which||_.keyCode||_.charCode;b&&(_=b)}if(typeof _=="number")return v[_];var C=String(_),R=n[C.toLowerCase()];if(R)return R;var R=s[C.toLowerCase()];if(R)return R;if(C.length===1)return C.charCodeAt(0)}r.isEventKey=function(b,C){if(b&&typeof b=="object"){var R=b.which||b.keyCode||b.charCode;if(R==null)return!1;if(typeof C=="string"){var f=n[C.toLowerCase()];if(f)return f===R;var f=s[C.toLowerCase()];if(f)return f===R}else if(typeof C=="number")return C===R;return!1}},t=e.exports=r;var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(l=97;l<123;l++)n[String.fromCharCode(l)]=l-32;for(var l=48;l<58;l++)n[l-48]=l;for(l=1;l<13;l++)n["f"+l]=l+111;for(l=0;l<10;l++)n["numpad "+l]=l+96;var v=t.names=t.title={};for(l in n)v[n[l]]=l;for(var S in s)n[S]=s[S]}(J,J.exports)),J.exports}var _t;function _n(){if(_t)return Y;_t=1;var e=ie;Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=f;var t=e($e()),r=e(Me()),n=e(Ne()),s=e(De()),l=e(Fe()),v=e(He()),S=e(Ue()),_=e(O);e(ne);var b=e(gn()),C=e(At()),R=qe();function f(y){var x=function(a){(0,S.default)(d,a);function d(){var o,i;(0,n.default)(this,d);for(var u=arguments.length,c=new Array(u),p=0;p<u;p++)c[p]=arguments[p];return i=(0,l.default)(this,(o=(0,v.default)(d)).call.apply(o,[this].concat(c))),i.state={},i.handleKeyDown=function(m){var g,I=i.props,w=I.axis,z=w===void 0?"x":w,L=I.children,W=I.onChangeIndex,j=I.slideCount;switch((0,b.default)(m)){case"page down":case"down":z==="y"?g="decrease":z==="y-reverse"&&(g="increase");break;case"left":z==="x"?g="decrease":z==="x-reverse"&&(g="increase");break;case"page up":case"up":z==="y"?g="increase":z==="y-reverse"&&(g="decrease");break;case"right":z==="x"?g="increase":z==="x-reverse"&&(g="decrease");break}if(g){var B=i.state.index,A=B;g==="increase"?A+=1:A-=1,(j||L)&&(A=(0,R.mod)(A,j||_.default.Children.count(L))),i.props.index===void 0&&i.setState({index:A}),W&&W(A,B)}},i.handleChangeIndex=function(m,g,I){i.props.index===void 0&&i.setState({index:m}),i.props.onChangeIndex&&i.props.onChangeIndex(m,g,I)},i}return(0,s.default)(d,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({index:this.props.index||0})}},{key:"UNSAFE_componentWillReceiveProps",value:function(i){var u=i.index;typeof u=="number"&&u!==this.props.index&&this.setState({index:u})}},{key:"render",value:function(){var i=this.props;i.index,i.onChangeIndex;var u=(0,r.default)(i,["index","onChangeIndex"]),c=this.state.index;return _.default.createElement(C.default,{target:"window",onKeyDown:this.handleKeyDown},_.default.createElement(y,(0,t.default)({index:c,onChangeIndex:this.handleChangeIndex},u)))}}]),d}(_.default.Component);return x.propTypes={},x}return Y}var Q={},ye,yt;function yn(){if(yt)return ye;yt=1;function e(t){if(t&&t.__esModule)return t;var r={};if(t!=null){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};s.get||s.set?Object.defineProperty(r,n,s):r[n]=t[n]}}return r.default=t,r}return ye=e,ye}var xt;function xn(){if(xt)return Q;xt=1;var e=yn(),t=ie;Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=R;var r=t($e()),n=t(Me()),s=t(Ne()),l=t(De()),v=t(Fe()),S=t(He()),_=t(Ue()),b=e(O);t(ne);var C=qe();function R(f){var y=function(x){(0,_.default)(a,x);function a(d){var o;return(0,s.default)(this,a),o=(0,v.default)(this,(0,S.default)(a).call(this,d)),o.timer=null,o.state={},o.handleChangeIndex=function(i,u,c){var p=o.props,m=p.slideCount,g=p.onChangeIndex,I=i-u,w=o.state.index+I;m&&(w=(0,C.mod)(w,m)),o.props.index===void 0&&o.setIndex(w,i,I),g&&g(w,o.state.index,c)},o.handleTransitionEnd=function(){o.timer=setTimeout(function(){o.setWindow()},0),o.props.onTransitionEnd&&o.props.onTransitionEnd()},o.state.index=d.index||0,o}return(0,l.default)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.setWindow(this.state.index)}},{key:"UNSAFE_componentWillReceiveProps",value:function(o){var i=o.index;if(typeof i=="number"&&i!==this.props.index){var u=i-this.props.index;this.setIndex(i,this.state.indexContainer+u,u)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"setIndex",value:function(o,i,u){var c={index:o,indexContainer:i,indexStart:this.state.indexStart,indexStop:this.state.indexStop};u>0&&(!this.props.slideCount||c.indexStop<this.props.slideCount-1)&&(c.indexStop+=1),o>c.indexStop&&(c.indexStop=o);var p=c.indexStart-o;p>0&&(c.indexContainer+=p,c.indexStart-=p),this.setState(c)}},{key:"setWindow",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.index,i=this.props.slideCount,u=this.props.overscanSlideBefore,c=this.props.overscanSlideAfter;i&&(u>o&&(u=o),c+o>i-1&&(c=i-o-1)),this.setState({indexContainer:u,indexStart:o-u,indexStop:o+c})}},{key:"render",value:function(){var o=this.props;o.children,o.index,o.onChangeIndex,o.onTransitionEnd,o.overscanSlideAfter,o.overscanSlideBefore,o.slideCount;for(var i=o.slideRenderer,u=(0,n.default)(o,["children","index","onChangeIndex","onTransitionEnd","overscanSlideAfter","overscanSlideBefore","slideCount","slideRenderer"]),c=this.state,p=c.indexContainer,m=c.indexStart,g=c.indexStop,I=[],w=m;w<=g;w+=1)I.push(i({index:w,key:w}));return b.default.createElement(f,(0,r.default)({index:p,onChangeIndex:this.handleChangeIndex,onTransitionEnd:this.handleTransitionEnd},u),I)}}]),a}(b.PureComponent);return y.propTypes={},y.defaultProps={overscanSlideAfter:2,overscanSlideBefore:3},y}return Q}(function(e){var t=ie;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"autoPlay",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"bindKeyboard",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"virtualize",{enumerable:!0,get:function(){return s.default}});var r=t(mn()),n=t(_n()),s=t(xn())})(Re);var Be={},bn=Ae;Object.defineProperty(Be,"__esModule",{value:!0});var qt=Be.default=void 0,Sn=bn(Le()),xe=h;qt=Be.default=(0,Sn.default)([(0,xe.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,xe.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,xe.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5"},"2")],"SentimentVeryDissatisfied");var Cn=typeof performance=="object"&&typeof performance.now=="function",bt=Cn?function(){return performance.now()}:function(){return Date.now()};function St(e){cancelAnimationFrame(e.id)}function Rn(e,t){var r=bt();function n(){bt()-r>=t?e.call(null):s.id=requestAnimationFrame(n)}var s={id:requestAnimationFrame(n)};return s}var be=-1;function Ct(e){if(e===void 0&&(e=!1),be===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),be=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return be}var $=null;function Rt(e){if(e===void 0&&(e=!1),$===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),s=n.style;return s.width="100px",s.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?$="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?$="negative":$="positive-ascending"),document.body.removeChild(t),$}return $}var wn=150,In=function(t,r){return t};function On(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,s=e.getItemSize,l=e.getOffsetForIndexAndAlignment,v=e.getStartIndexForOffset,S=e.getStopIndexForStartIndex,_=e.initInstanceProps,b=e.shouldResetStyleCacheOnItemSizeChange,C=e.validateProps;return t=function(R){Qt(f,R);function f(x){var a;return a=R.call(this,x)||this,a._instanceProps=_(a.props,Qe(a)),a._outerRef=void 0,a._resetIsScrollingTimeoutId=null,a.state={instance:Qe(a),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof a.props.initialScrollOffset=="number"?a.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},a._callOnItemsRendered=void 0,a._callOnItemsRendered=Z(function(d,o,i,u){return a.props.onItemsRendered({overscanStartIndex:d,overscanStopIndex:o,visibleStartIndex:i,visibleStopIndex:u})}),a._callOnScroll=void 0,a._callOnScroll=Z(function(d,o,i){return a.props.onScroll({scrollDirection:d,scrollOffset:o,scrollUpdateWasRequested:i})}),a._getItemStyle=void 0,a._getItemStyle=function(d){var o=a.props,i=o.direction,u=o.itemSize,c=o.layout,p=a._getItemStyleCache(b&&u,b&&c,b&&i),m;if(p.hasOwnProperty(d))m=p[d];else{var g=r(a.props,d,a._instanceProps),I=s(a.props,d,a._instanceProps),w=i==="horizontal"||c==="horizontal",z=i==="rtl",L=w?g:0;p[d]=m={position:"absolute",left:z?void 0:L,right:z?L:void 0,top:w?0:g,height:w?"100%":I,width:w?I:"100%"}}return m},a._getItemStyleCache=void 0,a._getItemStyleCache=Z(function(d,o,i){return{}}),a._onScrollHorizontal=function(d){var o=d.currentTarget,i=o.clientWidth,u=o.scrollLeft,c=o.scrollWidth;a.setState(function(p){if(p.scrollOffset===u)return null;var m=a.props.direction,g=u;if(m==="rtl")switch(Rt()){case"negative":g=-u;break;case"positive-descending":g=c-i-u;break}return g=Math.max(0,Math.min(g,c-i)),{isScrolling:!0,scrollDirection:p.scrollOffset<u?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._onScrollVertical=function(d){var o=d.currentTarget,i=o.clientHeight,u=o.scrollHeight,c=o.scrollTop;a.setState(function(p){if(p.scrollOffset===c)return null;var m=Math.max(0,Math.min(c,u-i));return{isScrolling:!0,scrollDirection:p.scrollOffset<m?"forward":"backward",scrollOffset:m,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._outerRefSetter=function(d){var o=a.props.outerRef;a._outerRef=d,typeof o=="function"?o(d):o!=null&&typeof o=="object"&&o.hasOwnProperty("current")&&(o.current=d)},a._resetIsScrollingDebounced=function(){a._resetIsScrollingTimeoutId!==null&&St(a._resetIsScrollingTimeoutId),a._resetIsScrollingTimeoutId=Rn(a._resetIsScrolling,wn)},a._resetIsScrolling=function(){a._resetIsScrollingTimeoutId=null,a.setState({isScrolling:!1},function(){a._getItemStyleCache(-1,null)})},a}f.getDerivedStateFromProps=function(a,d){return zn(a,d),C(a),null};var y=f.prototype;return y.scrollTo=function(a){a=Math.max(0,a),this.setState(function(d){return d.scrollOffset===a?null:{scrollDirection:d.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(a,d){d===void 0&&(d="auto");var o=this.props,i=o.itemCount,u=o.layout,c=this.state.scrollOffset;a=Math.max(0,Math.min(a,i-1));var p=0;if(this._outerRef){var m=this._outerRef;u==="vertical"?p=m.scrollWidth>m.clientWidth?Ct():0:p=m.scrollHeight>m.clientHeight?Ct():0}this.scrollTo(l(this.props,a,d,c,this._instanceProps,p))},y.componentDidMount=function(){var a=this.props,d=a.direction,o=a.initialScrollOffset,i=a.layout;if(typeof o=="number"&&this._outerRef!=null){var u=this._outerRef;d==="horizontal"||i==="horizontal"?u.scrollLeft=o:u.scrollTop=o}this._callPropsCallbacks()},y.componentDidUpdate=function(){var a=this.props,d=a.direction,o=a.layout,i=this.state,u=i.scrollOffset,c=i.scrollUpdateWasRequested;if(c&&this._outerRef!=null){var p=this._outerRef;if(d==="horizontal"||o==="horizontal")if(d==="rtl")switch(Rt()){case"negative":p.scrollLeft=-u;break;case"positive-ascending":p.scrollLeft=u;break;default:var m=p.clientWidth,g=p.scrollWidth;p.scrollLeft=g-m-u;break}else p.scrollLeft=u;else p.scrollTop=u}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&St(this._resetIsScrollingTimeoutId)},y.render=function(){var a=this.props,d=a.children,o=a.className,i=a.direction,u=a.height,c=a.innerRef,p=a.innerElementType,m=a.innerTagName,g=a.itemCount,I=a.itemData,w=a.itemKey,z=w===void 0?In:w,L=a.layout,W=a.outerElementType,j=a.outerTagName,B=a.style,A=a.useIsScrolling,Wt=a.width,Ve=this.state.isScrolling,oe=i==="horizontal"||L==="horizontal",kt=oe?this._onScrollHorizontal:this._onScrollVertical,Ke=this._getRangeToRender(),$t=Ke[0],Mt=Ke[1],Ge=[];if(g>0)for(var M=$t;M<=Mt;M++)Ge.push(O.createElement(d,{data:I,key:z(M,I),index:M,isScrolling:A?Ve:void 0,style:this._getItemStyle(M)}));var Xe=n(this.props,this._instanceProps);return O.createElement(W||j||"div",{className:o,onScroll:kt,ref:this._outerRefSetter,style:Zt({position:"relative",height:u,width:Wt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},B)},O.createElement(p||m||"div",{children:Ge,ref:c,style:{height:oe?"100%":Xe,pointerEvents:Ve?"none":void 0,width:oe?Xe:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var a=this.props.itemCount;if(a>0){var d=this._getRangeToRender(),o=d[0],i=d[1],u=d[2],c=d[3];this._callOnItemsRendered(o,i,u,c)}}if(typeof this.props.onScroll=="function"){var p=this.state,m=p.scrollDirection,g=p.scrollOffset,I=p.scrollUpdateWasRequested;this._callOnScroll(m,g,I)}},y._getRangeToRender=function(){var a=this.props,d=a.itemCount,o=a.overscanCount,i=this.state,u=i.isScrolling,c=i.scrollDirection,p=i.scrollOffset;if(d===0)return[0,0,0,0];var m=v(this.props,p,this._instanceProps),g=S(this.props,m,p,this._instanceProps),I=!u||c==="backward"?Math.max(1,o):1,w=!u||c==="forward"?Math.max(1,o):1;return[Math.max(0,m-I),Math.max(0,Math.min(d-1,g+w)),m,g]},f}(O.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var zn=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},Tn=On({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,s,l,v){var S=t.direction,_=t.height,b=t.itemCount,C=t.itemSize,R=t.layout,f=t.width,y=S==="horizontal"||R==="horizontal",x=y?f:_,a=Math.max(0,b*C-x),d=Math.min(a,r*C),o=Math.max(0,r*C-x+C+v);switch(n==="smart"&&(s>=o-x&&s<=d+x?n="auto":n="center"),n){case"start":return d;case"end":return o;case"center":{var i=Math.round(o+(d-o)/2);return i<Math.ceil(x/2)?0:i>a+Math.floor(x/2)?a:i}case"auto":default:return s>=o&&s<=d?s:s<o?o:d}},getStartIndexForOffset:function(t,r){var n=t.itemCount,s=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/s)))},getStopIndexForStartIndex:function(t,r,n){var s=t.direction,l=t.height,v=t.itemCount,S=t.itemSize,_=t.layout,b=t.width,C=s==="horizontal"||_==="horizontal",R=r*S,f=C?b:l,y=Math.ceil((f+n-R)/S);return Math.max(0,Math.min(v-1,r+y-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function wt(e,t){for(var r in e)if(!(r in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}var Pn=["style"],jn=["style"];function En(e,t){var r=e.style,n=Je(e,Pn),s=t.style,l=Je(t,jn);return!wt(r,s)&&!wt(n,l)}let P;typeof window<"u"?P=window:typeof self<"u"?P=self:P=global;let we=null,Ie=null;const It=20,Se=P.clearTimeout,Ot=P.setTimeout,Ce=P.cancelAnimationFrame||P.mozCancelAnimationFrame||P.webkitCancelAnimationFrame,zt=P.requestAnimationFrame||P.mozRequestAnimationFrame||P.webkitRequestAnimationFrame;Ce==null||zt==null?(we=Se,Ie=function(t){return Ot(t,It)}):(we=function([t,r]){Ce(t),Se(r)},Ie=function(t){const r=zt(function(){Se(n),t()}),n=Ot(function(){Ce(r),t()},It);return[r,n]});function Ln(e){let t,r,n,s,l,v,S;const _=typeof document<"u"&&document.attachEvent;if(!_){v=function(o){const i=o.__resizeTriggers__,u=i.firstElementChild,c=i.lastElementChild,p=u.firstElementChild;c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight,p.style.width=u.offsetWidth+1+"px",p.style.height=u.offsetHeight+1+"px",u.scrollLeft=u.scrollWidth,u.scrollTop=u.scrollHeight},l=function(o){return o.offsetWidth!==o.__resizeLast__.width||o.offsetHeight!==o.__resizeLast__.height},S=function(o){if(o.target.className&&typeof o.target.className.indexOf=="function"&&o.target.className.indexOf("contract-trigger")<0&&o.target.className.indexOf("expand-trigger")<0)return;const i=this;v(this),this.__resizeRAF__&&we(this.__resizeRAF__),this.__resizeRAF__=Ie(function(){l(i)&&(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach(function(p){p.call(i,o)}))})};let f=!1,y="";n="animationstart";const x="Webkit Moz O ms".split(" ");let a="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{const o=document.createElement("fakeelement");if(o.style.animationName!==void 0&&(f=!0),f===!1){for(let i=0;i<x.length;i++)if(o.style[x[i]+"AnimationName"]!==void 0){d=x[i],y="-"+d.toLowerCase()+"-",n=a[i],f=!0;break}}}r="resizeanim",t="@"+y+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",s=y+"animation: 1ms "+r+"; "}const b=function(f){if(!f.getElementById("detectElementResize")){const y=(t||"")+".resize-triggers { "+(s||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',x=f.head||f.getElementsByTagName("head")[0],a=f.createElement("style");a.id="detectElementResize",a.type="text/css",e!=null&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=y:a.appendChild(f.createTextNode(y)),x.appendChild(a)}};return{addResizeListener:function(f,y){if(_)f.attachEvent("onresize",y);else{if(!f.__resizeTriggers__){const x=f.ownerDocument,a=P.getComputedStyle(f);a&&a.position==="static"&&(f.style.position="relative"),b(x),f.__resizeLast__={},f.__resizeListeners__=[],(f.__resizeTriggers__=x.createElement("div")).className="resize-triggers";const d=x.createElement("div");d.className="expand-trigger",d.appendChild(x.createElement("div"));const o=x.createElement("div");o.className="contract-trigger",f.__resizeTriggers__.appendChild(d),f.__resizeTriggers__.appendChild(o),f.appendChild(f.__resizeTriggers__),v(f),f.addEventListener("scroll",S,!0),n&&(f.__resizeTriggers__.__animationListener__=function(u){u.animationName===r&&v(f)},f.__resizeTriggers__.addEventListener(n,f.__resizeTriggers__.__animationListener__))}f.__resizeListeners__.push(y)}},removeResizeListener:function(f,y){if(_)f.detachEvent("onresize",y);else if(f.__resizeListeners__.splice(f.__resizeListeners__.indexOf(y),1),!f.__resizeListeners__.length){f.removeEventListener("scroll",S,!0),f.__resizeTriggers__.__animationListener__&&(f.__resizeTriggers__.removeEventListener(n,f.__resizeTriggers__.__animationListener__),f.__resizeTriggers__.__animationListener__=null);try{f.__resizeTriggers__=!f.removeChild(f.__resizeTriggers__)}catch{}}}}}class An extends O.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:r,disableWidth:n,onResize:s}=this.props;if(this._parentNode){const l=window.getComputedStyle(this._parentNode)||{},v=parseFloat(l.paddingLeft||"0"),S=parseFloat(l.paddingRight||"0"),_=parseFloat(l.paddingTop||"0"),b=parseFloat(l.paddingBottom||"0"),C=this._parentNode.getBoundingClientRect(),R=C.height-_-b,f=C.width-v-S,y=this._parentNode.offsetHeight-_-b,x=this._parentNode.offsetWidth-v-S;(!r&&(this.state.height!==y||this.state.scaledHeight!==R)||!n&&(this.state.width!==x||this.state.scaledWidth!==f))&&(this.setState({height:y,width:x,scaledHeight:R,scaledWidth:f}),typeof s=="function"&&s({height:y,scaledHeight:R,scaledWidth:f,width:x}))}},this._setRef=r=>{this._autoSizer=r}}componentDidMount(){const{nonce:t}=this.props,r=this._autoSizer?this._autoSizer.parentNode:null;if(r!=null&&r.ownerDocument&&r.ownerDocument.defaultView&&r instanceof r.ownerDocument.defaultView.HTMLElement){this._parentNode=r;const n=r.ownerDocument.defaultView.ResizeObserver;n!=null?(this._resizeObserver=new n(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(r)):(this._detectElementResize=Ln(t),this._detectElementResize.addResizeListener(r,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:t,defaultHeight:r,defaultWidth:n,disableHeight:s=!1,disableWidth:l=!1,doNotBailOutOnEmptyChildren:v=!1,nonce:S,onResize:_,style:b={},tagName:C="div",...R}=this.props,{height:f,scaledHeight:y,scaledWidth:x,width:a}=this.state,d={overflow:"visible"},o={};let i=!1;return s||(f===0&&(i=!0),d.height=0,o.height=f,o.scaledHeight=y),l||(a===0&&(i=!0),d.width=0,o.width=a,o.scaledWidth=x),v&&(i=!1),O.createElement(C,{ref:this._setRef,style:{...d,...b},...R},!i&&t(o))}}const qn=({terminus:e})=>{const{t}=H(),r=U();return h.jsxs(T,{sx:Wn,children:[h.jsxs(T,{sx:kn,children:[h.jsx("span",{children:`${t("往")} `}),h.jsx(E,{component:"h3",variant:"h6",sx:Mn,children:Ye(e.dest[r])})]}),h.jsx(T,{sx:$n,children:h.jsx(E,{variant:"body2",children:Ye(e.orig[r])})})]})},Wn={textAlign:"left","& > span":{}},kn={display:"flex",alignItems:"baseline",whiteSpace:"nowrap",overflowX:"hidden","& > span":{fontSize:"0.95em",mr:.5}},$n={display:"flex",alignItems:"baseline",whiteSpace:"nowrap",overflowX:"hidden"},Mn={fontWeight:700},Nn=({route:e})=>{const{t}=H(),r=U(),[n,s]=e[0].split("-").slice(0,2);return h.jsxs(T,{overflow:"hidden",children:[h.jsx(er,{routeNo:r==="zh"?t(n):n,fontSize:e[1].co[0]==="mtr"?"1.2rem":void 0}),parseInt(s,10)>=2&&h.jsx(E,{variant:"caption",sx:Fn,children:t("特別班")}),h.jsx(E,{component:"h4",variant:"caption",sx:Dn,children:e[1].co.map(l=>t(l)).join("+")})]})},Dn={color:e=>e.palette.text.secondary},Fn={fontSize:"0.6rem",marginLeft:"8px"},Hn=({route:e,onClick:t,style:r,onRemove:n})=>{const s=U();return h.jsx(tr,{to:`/${s}/route/${e[0].toLowerCase()}`,style:r,children:h.jsxs(mr,{variant:"outlined",square:!0,sx:Un,children:[h.jsx(Rr,{onClick:t,children:h.jsxs(Pr,{sx:Bn,children:[h.jsx(Nn,{route:e}),h.jsx(qn,{terminus:e[1]})]})}),n&&h.jsx(rr,{onClick:n,children:h.jsx(ur,{})})]},e[0])})},Un={border:"none",display:"flex",alignItems:"center",height:"100%",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBlockColor:e=>e.palette.mode==="dark"?Ze[900]:Ze[200]},Bn={display:"grid",gridTemplateColumns:"25% 65%",py:.5,px:2,alignItems:"center"},Tt=Pt.memo(({data:{routeList:e,vibrateDuration:t,tab:r},index:n,style:s})=>{const l=e[n],{addSearchHistory:v,removeSearchHistoryByRouteId:S}=O.useContext(q),_=U(),b=nr(),C=O.useCallback(f=>{f.preventDefault(),se(t),v(l[0]),setTimeout(()=>{b(`/${_}/route/${l[0].toLowerCase()}`)},0)},[se,t,v,l[0],b,_]),R=f=>{f.preventDefault(),se(t),S(l[0])};return h.jsx(Hn,{onClick:C,route:l,style:s??{},onRemove:r==="recent"?R:void 0})},En),Vn=({boardTab:e,onChangeTab:t})=>{const{searchRoute:r,db:{holidays:n,routeList:s,serviceDayMap:l},isRouteFilter:v,busSortOrder:S,routeSearchHistory:_,vibrateDuration:b,isRecentSearchShown:C}=O.useContext(q),R=O.useMemo(()=>Nt(n,new Date),[n]),{t:f}=H(),y=O.useMemo(()=>{const o=Object.entries(s).filter(([i,{stops:u,co:c}])=>i.startsWith(r.toUpperCase())&&(u[c[0]]==null||u[c[0]].length>0)).filter(([i,{freq:u}])=>!v||Dt(i,u,R,l)).sort((i,u)=>Ft(i,u,Ht[S]));return Object.entries(Oe).filter(([i])=>C||i!=="recent").map(([i,u])=>Kn(i==="recent"?_.filter(c=>c.startsWith(r.toUpperCase())).filter(c=>s[c]).map(c=>[c,s[c]]):o.filter(([c,{co:p}])=>p.some(m=>u.includes(m))),b,i))},[s,R,r,v,b,S,_,C,l]),x=O.useMemo(()=>{const o=parseInt(getComputedStyle(document.body).fontSize,10);return o<=18?64:o<=22?78:o<=26?92:o<=30?98:110},[]),a=O.useMemo(()=>Xn.filter(o=>C||o!=="recent"),[C]),d=O.useCallback(({key:o,index:i})=>h.jsx(Pt.Fragment,{children:y[i].routeList.length>0?h.jsx(An,{children:({height:u,width:c})=>h.jsx(Tn,{height:u*.98,itemCount:y[i].routeList.length,itemSize:x,width:c,itemData:y[i],children:Tt})}):h.jsxs(T,{sx:Jn,children:[h.jsxs(T,{display:"flex",alignItems:"center",children:[h.jsx(qt,{fontSize:"small"}),a[i]!=="recent"?h.jsxs(h.Fragment,{children:[h.jsxs(E,{variant:"h6",children:['"',r,'"']}),h.jsx(E,{variant:"h6",children:f("route-search-no-result")})]}):h.jsxs(h.Fragment,{children:[r.length>0&&h.jsxs(E,{variant:"h6",children:['"',r,'"']}),h.jsx(E,{variant:"h6",children:f("no-recent-search")})]})]}),a[i]!=="all"&&h.jsxs(T,{display:"flex",children:[h.jsx(E,{variant:"h6",sx:Qn,onClick:()=>t("all"),children:f("click-here")}),h.jsx(E,{variant:"h6",children:f("to-search-all-routes")})]})]})},o),[x,y,r,f,a,t]);return O.useMemo(()=>h.jsx(h.Fragment,{children:navigator.userAgent==="prerendering"?h.jsx(T,{sx:Yn,children:y[0].routeList.map((o,i)=>h.jsx(Tt,{data:y[0],index:i,style:null},`route-${i}`))}):h.jsx(Gn,{index:a.indexOf(e),onChangeIndex:o=>{t(a[o])},style:{flex:1,display:"flex"},containerStyle:{flex:1},slideCount:y.length,overscanSlideAfter:1,overscanSlideBefore:1,slideRenderer:d,enableMouseEvents:!0})}),[d,y,t,e,a])},Kn=Z((e,t,r)=>({routeList:e,vibrateDuration:t,tab:r})),Gn=Re.bindKeyboard(Re.virtualize(or)),Xn=["recent","all","bus","minibus","lightRail","mtr"],Yn={height:"100%",overflowY:"scroll"},Jn={height:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","& .MuiSvgIcon-root":{fontSize:"3em",mr:2},gap:2},Qn={textDecoration:"underline",display:"inline",cursor:"pointer"},Zn=({boardTab:e,setBoardTab:t})=>{const{AppTitle:r}=O.useContext(q),{t:n}=H(),s=U();O.useEffect(()=>{Ut({title:n("搜尋")+" - "+n(r),description:n("route-board-page-description"),lang:s})},[s]);const l=O.useCallback(v=>{t(v),localStorage.setItem("boardTab",v)},[t]);return h.jsxs(T,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[h.jsx(Kr,{boardTab:e,onChangeTab:l}),h.jsx(Vn,{boardTab:e,onChangeTab:l})]})},oi=()=>{const{isRecentSearchShown:e}=O.useContext(q),t=localStorage.getItem("boardTab"),[r,n]=O.useState(Gr(t,e)?t:"all");return h.jsxs(h.Fragment,{children:[h.jsx(Zn,{boardTab:r,setBoardTab:n}),h.jsx(Mr,{boardTab:r})]})};export{oi as default};
